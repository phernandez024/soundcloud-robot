<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 7.3.2 (Python 3.11.9 on win32)" generated="2025-10-08T11:11:10.315043" rpa="false" schemaversion="5">
<suite id="s1" name="Prueba2" source="C:\Users\phmartin\soundcloud-robot\prueba2.robot">
<kw name="Open Edge With Default Windows Profile" type="SETUP">
<kw name="Create Directory" owner="OperatingSystem">
<msg time="2025-10-08T11:11:10.878901" level="INFO" html="true">Directory '&lt;a href="file://C:\Users\phmartin\soundcloud-robot\results\downloads"&gt;C:\Users\phmartin\soundcloud-robot\results\downloads&lt;/a&gt;' already exists.</msg>
<arg>${DOWNLOAD_DIR}</arg>
<doc>Creates the specified directory.</doc>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.000000"/>
</kw>
<kw name="Create Directory" owner="OperatingSystem">
<msg time="2025-10-08T11:11:10.878901" level="INFO" html="true">Directory '&lt;a href="file://C:\Users\phmartin\soundcloud-robot\results\meta"&gt;C:\Users\phmartin\soundcloud-robot\results\meta&lt;/a&gt;' already exists.</msg>
<arg>${META_DIR}</arg>
<doc>Creates the specified directory.</doc>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.000000"/>
</kw>
<kw name="Create Directory" owner="OperatingSystem">
<msg time="2025-10-08T11:11:10.878901" level="INFO" html="true">Directory '&lt;a href="file://C:\Users\phmartin\soundcloud-robot\results\portadas"&gt;C:\Users\phmartin\soundcloud-robot\results\portadas&lt;/a&gt;' already exists.</msg>
<arg>${COVERS_DIR}</arg>
<doc>Creates the specified directory.</doc>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.000000"/>
</kw>
<kw name="Get Environment Variable" owner="OperatingSystem">
<msg time="2025-10-08T11:11:10.878901" level="INFO">${LOCALAPPDATA} = C:\Users\phmartin\AppData\Local</msg>
<var>${LOCALAPPDATA}</var>
<arg>LOCALAPPDATA</arg>
<doc>Returns the value of an environment variable with the given name.</doc>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:10.878901" level="INFO">${USER_DATA} = C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data</msg>
<var>${USER_DATA}</var>
<arg>${LOCALAPPDATA}${/}Microsoft${/}Edge${/}User Data</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.000000"/>
</kw>
<kw name="Directory Should Exist" owner="OperatingSystem">
<msg time="2025-10-08T11:11:10.878901" level="INFO" html="true">Directory '&lt;a href="file://C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data"&gt;C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data&lt;/a&gt;' exists.</msg>
<arg>${USER_DATA}</arg>
<arg>No se encuentra User Data de Edge: ${USER_DATA}</arg>
<doc>Fails unless the given path points to an existing directory.</doc>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:10.878901" level="INFO">${LOCAL_STATE} = C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data\Local State</msg>
<var>${LOCAL_STATE}</var>
<arg>${USER_DATA}${/}Local State</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.000000"/>
</kw>
<kw name="Evaluate" owner="BuiltIn">
<msg time="2025-10-08T11:11:10.878901" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>__import__('os').path.exists(r"""${LOCAL_STATE}""")</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.000000"/>
</kw>
<if>
<branch type="IF" condition="${exists}">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2025-10-08T11:11:10.901523" level="INFO">${LAST_USED} = Default</msg>
<var>${LAST_USED}</var>
<arg>__import__('json').load(open(r"""${LOCAL_STATE}""","r",encoding="utf-8")).get("profile",{}).get("last_used","Default")</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2025-10-08T11:11:10.894747" elapsed="0.006776"/>
</kw>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.022622"/>
</branch>
<branch type="ELSE">
<kw name="Set Variable" owner="BuiltIn">
<var>${LAST_USED}</var>
<arg>Default</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:10.901523" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2025-10-08T11:11:10.901523" elapsed="0.000000"/>
</branch>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="0.022622"/>
</if>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:10.901523" level="INFO">${PROFILE_PATH} = C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data\Default</msg>
<var>${PROFILE_PATH}</var>
<arg>${USER_DATA}${/}${LAST_USED}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:10.901523" elapsed="0.000000"/>
</kw>
<kw name="Directory Should Exist" owner="OperatingSystem">
<msg time="2025-10-08T11:11:10.901523" level="INFO" html="true">Directory '&lt;a href="file://C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data\Default"&gt;C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data\Default&lt;/a&gt;' exists.</msg>
<arg>${PROFILE_PATH}</arg>
<arg>El perfil detectado no existe: ${PROFILE_PATH}</arg>
<doc>Fails unless the given path points to an existing directory.</doc>
<status status="PASS" start="2025-10-08T11:11:10.901523" elapsed="0.000000"/>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>🔎 Perfil Edge detectado: ${LAST_USED} → ${PROFILE_PATH}</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" start="2025-10-08T11:11:10.901523" elapsed="0.000000"/>
</kw>
<kw name="Run Keyword And Ignore Error" owner="BuiltIn">
<kw name="Run Process" owner="Process">
<msg time="2025-10-08T11:11:10.901523" level="INFO">Starting process:
taskkill /F /IM msedge.exe</msg>
<msg time="2025-10-08T11:11:10.994544" level="INFO">Waiting for process to complete.</msg>
<msg time="2025-10-08T11:11:11.477788" level="INFO">Process completed.</msg>
<arg>taskkill</arg>
<arg>/F</arg>
<arg>/IM</arg>
<arg>msedge.exe</arg>
<arg>shell=True</arg>
<doc>Runs a process and waits for it to complete.</doc>
<status status="PASS" start="2025-10-08T11:11:10.901523" elapsed="0.576265"/>
</kw>
<arg>Run Process</arg>
<arg>taskkill</arg>
<arg>/F</arg>
<arg>/IM</arg>
<arg>msedge.exe</arg>
<arg>shell=True</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<status status="PASS" start="2025-10-08T11:11:10.901523" elapsed="0.576265"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<msg time="2025-10-08T11:11:11.978432" level="INFO">Slept 500 milliseconds.</msg>
<arg>0.5 s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="PASS" start="2025-10-08T11:11:11.477788" elapsed="0.500644"/>
</kw>
<kw name="List Files In Directory" owner="OperatingSystem">
<msg time="2025-10-08T11:11:11.978432" level="INFO" html="true">Listing contents of directory '&lt;a href="file://C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data\Default"&gt;C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data\Default&lt;/a&gt;'.</msg>
<msg time="2025-10-08T11:11:11.980211" level="INFO">0 files:
</msg>
<msg time="2025-10-08T11:11:11.980211" level="INFO">${locks} = []</msg>
<var>${locks}</var>
<arg>${PROFILE_PATH}</arg>
<arg>pattern=Singleton*</arg>
<doc>Wrapper for `List Directory` that returns only files.</doc>
<status status="PASS" start="2025-10-08T11:11:11.978432" elapsed="0.001779"/>
</kw>
<for flavor="IN">
<iter>
<kw name="Run Keyword And Ignore Error" owner="BuiltIn">
<arg>Remove File</arg>
<arg>${f}</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<var name="${f}"/>
<status status="NOT RUN" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</iter>
<var>${f}</var>
<value>@{locks}</value>
<status status="NOT RUN" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</for>
<kw name="Run Keyword And Ignore Error" owner="BuiltIn">
<kw name="Remove File" owner="OperatingSystem">
<msg time="2025-10-08T11:11:11.980211" level="INFO" html="true">Removed file '&lt;a href="file://C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data\Default\LOCK"&gt;C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data\Default\LOCK&lt;/a&gt;'.</msg>
<arg>${PROFILE_PATH}${/}LOCK</arg>
<doc>Removes a file with the given path.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<arg>Remove File</arg>
<arg>${PROFILE_PATH}${/}LOCK</arg>
<doc>Runs the given keyword with the given arguments and ignores possible error.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Evaluate" owner="BuiltIn">
<msg time="2025-10-08T11:11:11.980211" level="INFO">${opt} = &lt;selenium.webdriver.edge.options.Options object at 0x000001B7703E4450&gt;</msg>
<var>${opt}</var>
<arg>__import__('selenium.webdriver.edge.options', fromlist=['Options']).Options()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:11.980211" level="INFO">${arg_user} = --user-data-dir=C:\Users\phmartin\AppData\Local\Microsoft\Edge\User Data</msg>
<var>${arg_user}</var>
<arg>--user-data-dir=${USER_DATA}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:11.980211" level="INFO">${arg_prof} = --profile-directory=Default</msg>
<var>${arg_prof}</var>
<arg>--profile-directory=${LAST_USED}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:11.980211" level="INFO">${arg_max} = --start-maximized</msg>
<var>${arg_max}</var>
<arg>--start-maximized</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:11.980211" level="INFO">${arg_devshm} = --disable-dev-shm-usage</msg>
<var>${arg_devshm}</var>
<arg>--disable-dev-shm-usage</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:11.980211" level="INFO">${arg_no_first} = --no-first-run</msg>
<var>${arg_no_first}</var>
<arg>--no-first-run</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:11.980211" level="INFO">${arg_no_default} = --no-default-browser-check</msg>
<var>${arg_no_default}</var>
<arg>--no-default-browser-check</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Call Method" owner="BuiltIn">
<arg>${opt}</arg>
<arg>add_argument</arg>
<arg>${arg_user}</arg>
<doc>Calls the named method of the given object with the provided arguments.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Call Method" owner="BuiltIn">
<arg>${opt}</arg>
<arg>add_argument</arg>
<arg>${arg_prof}</arg>
<doc>Calls the named method of the given object with the provided arguments.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Call Method" owner="BuiltIn">
<arg>${opt}</arg>
<arg>add_argument</arg>
<arg>${arg_max}</arg>
<doc>Calls the named method of the given object with the provided arguments.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Call Method" owner="BuiltIn">
<arg>${opt}</arg>
<arg>add_argument</arg>
<arg>${arg_devshm}</arg>
<doc>Calls the named method of the given object with the provided arguments.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Call Method" owner="BuiltIn">
<arg>${opt}</arg>
<arg>add_argument</arg>
<arg>${arg_no_first}</arg>
<doc>Calls the named method of the given object with the provided arguments.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Call Method" owner="BuiltIn">
<arg>${opt}</arg>
<arg>add_argument</arg>
<arg>${arg_no_default}</arg>
<doc>Calls the named method of the given object with the provided arguments.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-10-08T11:11:11.980211" level="INFO">&amp;{prefs} = { download.default_directory=C:\Users\phmartin\soundcloud-robot\results\downloads | download.prompt_for_download=False | download.directory_upgrade=True | safebrowsing.enabled=True }</msg>
<var>&amp;{prefs}</var>
<arg>download.default_directory=${DOWNLOAD_DIR}</arg>
<arg>download.prompt_for_download=${False}</arg>
<arg>download.directory_upgrade=${True}</arg>
<arg>safebrowsing.enabled=${True}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Call Method" owner="BuiltIn">
<arg>${opt}</arg>
<arg>add_experimental_option</arg>
<arg>prefs</arg>
<arg>${prefs}</arg>
<doc>Calls the named method of the given object with the provided arguments.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="0.000000"/>
</kw>
<kw name="Create Webdriver" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:11.980211" level="INFO">Creating an instance of the Edge WebDriver.</msg>
<arg>Edge</arg>
<arg>options=${opt}</arg>
<doc>Creates an instance of Selenium WebDriver.</doc>
<status status="PASS" start="2025-10-08T11:11:11.980211" elapsed="2.885316"/>
</kw>
<kw name="Set Selenium Timeout" owner="SeleniumLibrary">
<arg>${BASE_TIMEOUT}</arg>
<doc>Sets the timeout that is used by various keywords.</doc>
<status status="PASS" start="2025-10-08T11:11:14.865527" elapsed="0.002015"/>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>✅ Edge con perfil real: ${PROFILE_PATH} — Descargas: ${DOWNLOAD_DIR}</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" start="2025-10-08T11:11:14.867542" elapsed="0.000000"/>
</kw>
<doc>Abre Edge con el perfil por defecto del usuario (último usado). Cierra Edge y elimina locks antes.</doc>
<status status="PASS" start="2025-10-08T11:11:10.878901" elapsed="3.988641"/>
</kw>
<test id="s1-t1" name="Opcion A - Abrir página de pista y descargar si hay" line="277">
<kw name="Open Playlist">
<kw name="Go To" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:14.869094" level="INFO">Opening url 'https://soundcloud.com/doncucho/sets/schranz-3'</msg>
<arg>${PLAYLIST_URL}</arg>
<doc>Navigates the current browser window to the provided ``url``.</doc>
<status status="PASS" start="2025-10-08T11:11:14.869094" elapsed="3.065454"/>
</kw>
<status status="PASS" start="2025-10-08T11:11:14.869094" elapsed="3.065454"/>
</kw>
<kw name="Open Track Page And Open More Menu">
<kw name="Open Track Page By Index">
<kw name="Ensure Track Item Is Rendered">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:17.943972" level="INFO">${li} = (//li[contains(@class,'trackList__item') or contains(@class,'soundList__item')])[3]</msg>
<var>${li}</var>
<arg>(//li[contains(@class,'trackList__item') or contains(@class,'soundList__item')])[${n}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:17.943972" elapsed="0.000000"/>
</kw>
<for flavor="IN RANGE">
<iter>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Page Should Contain Element" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:18.036935" level="INFO">Current page contains element 'xpath=(//li[contains(@class,'trackList__item') or contains(@class,'soundList__item')])[3]'.</msg>
<arg>xpath=${li}</arg>
<doc>Verifies that element ``locator`` is found on the current page.</doc>
<status status="PASS" start="2025-10-08T11:11:17.943972" elapsed="0.092963"/>
</kw>
<msg time="2025-10-08T11:11:18.036935" level="INFO">${ok} = True</msg>
<var>${ok}</var>
<arg>Page Should Contain Element</arg>
<arg>xpath=${li}</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2025-10-08T11:11:17.943972" elapsed="0.092963"/>
</kw>
<if>
<branch type="IF" condition="${ok}">
<break>
<status status="PASS" start="2025-10-08T11:11:18.036935" elapsed="0.000000"/>
</break>
<status status="PASS" start="2025-10-08T11:11:18.036935" elapsed="0.000000"/>
</branch>
<status status="PASS" start="2025-10-08T11:11:18.036935" elapsed="0.001001"/>
</if>
<kw name="Execute Javascript" owner="SeleniumLibrary">
<arg>window.scrollBy(0, 800)</arg>
<doc>Executes the given JavaScript code with possible arguments.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:18.037936" elapsed="0.000000"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<arg>0.2 s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:18.037936" elapsed="0.000000"/>
</kw>
<var name="${i}">0</var>
<status status="PASS" start="2025-10-08T11:11:17.943972" elapsed="0.093964"/>
</iter>
<var>${i}</var>
<value>0</value>
<value>40</value>
<status status="PASS" start="2025-10-08T11:11:17.943972" elapsed="0.093964"/>
</for>
<kw name="Wait Until Page Contains Element" owner="SeleniumLibrary">
<arg>xpath=${li}</arg>
<arg>${BASE_TIMEOUT}</arg>
<doc>Waits until the element ``locator`` appears on the current page.</doc>
<status status="PASS" start="2025-10-08T11:11:18.037936" elapsed="0.012764"/>
</kw>
<kw name="Scroll Element Into View" owner="SeleniumLibrary">
<arg>xpath=${li}</arg>
<doc>Scrolls the element identified by ``locator`` into view.</doc>
<status status="PASS" start="2025-10-08T11:11:18.050700" elapsed="0.332714"/>
</kw>
<arg>${n}</arg>
<status status="PASS" start="2025-10-08T11:11:17.943972" elapsed="0.439442"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:18.384434" level="INFO">${li} = (//li[contains(@class,'trackList__item') or contains(@class,'soundList__item')])[3]</msg>
<var>${li}</var>
<arg>(//li[contains(@class,'trackList__item') or contains(@class,'soundList__item')])[${n}]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:18.384434" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:18.384434" level="INFO">${link} = (//li[contains(@class,'trackList__item') or contains(@class,'soundList__item')])[3]//a[contains(@class,'trackItem__trackTitle') or contains(@class,'soundTitle__title') or contains(@href,'/tracks/') or...</msg>
<var>${link}</var>
<arg>${li}//a[contains(@class,'trackItem__trackTitle') or contains(@class,'soundTitle__title') or contains(@href,'/tracks/') or contains(@href,'soundcloud.com/')]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:18.384434" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Element Is Visible" owner="SeleniumLibrary">
<arg>xpath=${link}</arg>
<arg>${BASE_TIMEOUT}</arg>
<doc>Waits until the element ``locator`` is visible.</doc>
<status status="PASS" start="2025-10-08T11:11:18.384434" elapsed="0.027950"/>
</kw>
<kw name="Click Element" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:18.413384" level="INFO">Clicking element 'xpath=(//li[contains(@class,'trackList__item') or contains(@class,'soundList__item')])[3]//a[contains(@class,'trackItem__trackTitle') or contains(@class,'soundTitle__title') or contains(@href,'/tracks/') or contains(@href,'soundcloud.com/')]'.</msg>
<arg>xpath=${link}</arg>
<doc>Click the element identified by ``locator``.</doc>
<status status="PASS" start="2025-10-08T11:11:18.413384" elapsed="0.157005"/>
</kw>
<kw name="Wait Until Page Contains Element" owner="SeleniumLibrary">
<arg>//div[contains(@class,'listenEngagement') or contains(@class,'fullListen')]//button[contains(@class,'sc-button-more')]</arg>
<arg>${BASE_TIMEOUT}</arg>
<doc>Waits until the element ``locator`` appears on the current page.</doc>
<status status="PASS" start="2025-10-08T11:11:18.570389" elapsed="0.290510"/>
</kw>
<arg>${n}</arg>
<doc>Abre la página de la pista (no comprobamos /tracks/ en la URL; SoundCloud usa /usuario/slug).</doc>
<status status="PASS" start="2025-10-08T11:11:17.943972" elapsed="0.916927"/>
</kw>
<kw name="Open More Menu On Track Page">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:18.860899" level="INFO">${more_xpath} = //div[contains(@class,'listenEngagement') or contains(@class,'fullListen')]//button[contains(@class,'sc-button-more') and (@aria-label='Más' or @aria-label='More')]</msg>
<var>${more_xpath}</var>
<arg>//div[contains(@class,'listenEngagement') or contains(@class,'fullListen')]//button[contains(@class,'sc-button-more') and (@aria-label='Más' or @aria-label='More')]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:18.860899" elapsed="0.000000"/>
</kw>
<kw name="Wait Until Page Contains Element" owner="SeleniumLibrary">
<arg>xpath=${more_xpath}</arg>
<arg>${BASE_TIMEOUT}</arg>
<doc>Waits until the element ``locator`` appears on the current page.</doc>
<status status="PASS" start="2025-10-08T11:11:18.860899" elapsed="0.029815"/>
</kw>
<kw name="Scroll Element Into View" owner="SeleniumLibrary">
<arg>xpath=${more_xpath}</arg>
<doc>Scrolls the element identified by ``locator`` into view.</doc>
<status status="PASS" start="2025-10-08T11:11:18.890714" elapsed="0.323757"/>
</kw>
<kw name="Wait Until Element Is Visible" owner="SeleniumLibrary">
<arg>xpath=${more_xpath}</arg>
<arg>${BASE_TIMEOUT}</arg>
<doc>Waits until the element ``locator`` is visible.</doc>
<status status="PASS" start="2025-10-08T11:11:19.214471" elapsed="0.012086"/>
</kw>
<kw name="Click Element" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:19.226557" level="INFO">Clicking element 'xpath=//div[contains(@class,'listenEngagement') or contains(@class,'fullListen')]//button[contains(@class,'sc-button-more') and (@aria-label='Más' or @aria-label='More')]'.</msg>
<arg>xpath=${more_xpath}</arg>
<doc>Click the element identified by ``locator``.</doc>
<status status="PASS" start="2025-10-08T11:11:19.226557" elapsed="0.069724"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Page Should Contain Element" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:19.410613" level="INFO">Current page contains element '//div[contains(@class,'dropdown') or contains(@class,'moreActions') or @role='menu' or @role='listbox']'.</msg>
<arg>//div[contains(@class,'dropdown') or contains(@class,'moreActions') or @role='menu' or @role='listbox']</arg>
<doc>Verifies that element ``locator`` is found on the current page.</doc>
<status status="PASS" start="2025-10-08T11:11:19.296281" elapsed="0.114332"/>
</kw>
<arg>10x</arg>
<arg>0.3 s</arg>
<arg>Page Should Contain Element</arg>
<arg>//div[contains(@class,'dropdown') or contains(@class,'moreActions') or @role='menu' or @role='listbox']</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2025-10-08T11:11:19.296281" elapsed="0.114332"/>
</kw>
<doc>En la página de pista, abrir el menú de los tres puntitos.</doc>
<status status="PASS" start="2025-10-08T11:11:18.860899" elapsed="0.550722"/>
</kw>
<arg>${TRACK_NUM}</arg>
<status status="PASS" start="2025-10-08T11:11:17.934548" elapsed="1.477073"/>
</kw>
<kw name="Extract And Save Track Metadata">
<kw name="Sleep" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.415546" level="INFO">Slept 1 second.</msg>
<arg>1</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="PASS" start="2025-10-08T11:11:19.414678" elapsed="1.000868"/>
</kw>
<kw name="Wait Until Page Contains Element" owner="SeleniumLibrary">
<arg>//h1[contains(@class,'soundTitle__title')]//span</arg>
<arg>${BASE_TIMEOUT}</arg>
<doc>Waits until the element ``locator`` appears on the current page.</doc>
<status status="PASS" start="2025-10-08T11:11:20.415546" elapsed="0.005351"/>
</kw>
<kw name="Get Text" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:20.448974" level="INFO">${title} = The Cardigans - My Favourite Game (Azzik Schranz Edit) [FREE DL]</msg>
<var>${title}</var>
<arg>xpath=//h1[contains(@class,'soundTitle__title')]//span</arg>
<doc>Returns the text value of the element identified by ``locator``.</doc>
<status status="PASS" start="2025-10-08T11:11:20.420897" elapsed="0.028077"/>
</kw>
<kw name="Get Text" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:20.468035" level="INFO">${artist} = AZZIK</msg>
<var>${artist}</var>
<arg>xpath=//h2[contains(@class,'soundTitle__username')]//a</arg>
<doc>Returns the text value of the element identified by ``locator``.</doc>
<status status="PASS" start="2025-10-08T11:11:20.448974" elapsed="0.019061"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Page Should Contain Element" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:20.471068" level="INFO">Current page contains element 'xpath=(//div[contains(@class,'listenEngagement') or contains(@class,'fullListen')]//span[contains(@class,'sc-artwork') and contains(@style,'background-image')])[1]'.</msg>
<arg>xpath=(//div[contains(@class,'listenEngagement') or contains(@class,'fullListen')]//span[contains(@class,'sc-artwork') and contains(@style,'background-image')])[1]</arg>
<doc>Verifies that element ``locator`` is found on the current page.</doc>
<status status="PASS" start="2025-10-08T11:11:20.468035" elapsed="0.003033"/>
</kw>
<msg time="2025-10-08T11:11:20.471068" level="INFO">${style_found} = True</msg>
<var>${style_found}</var>
<arg>Page Should Contain Element</arg>
<arg>xpath=(//div[contains(@class,'listenEngagement') or contains(@class,'fullListen')]//span[contains(@class,'sc-artwork') and contains(@style,'background-image')])[1]</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2025-10-08T11:11:20.468035" elapsed="0.003033"/>
</kw>
<if>
<branch type="IF" condition="${style_found}">
<kw name="Get Element Attribute" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:20.490856" level="INFO">${style} = background-image: url("https://i1.sndcdn.com/artworks-055Kmswxl0yQVFf5-sQIJiA-t500x500.png"); opacity: 1;</msg>
<var>${style}</var>
<arg>xpath=(//div[contains(@class,'listenEngagement') or contains(@class,'fullListen')]//span[contains(@class,'sc-artwork') and contains(@style,'background-image')])[1]</arg>
<arg>style</arg>
<doc>Returns the value of ``attribute`` from the element ``locator``.</doc>
<status status="PASS" start="2025-10-08T11:11:20.471068" elapsed="0.019788"/>
</kw>
<kw name="Evaluate" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.490856" level="INFO">${img_url} = https://i1.sndcdn.com/artworks-055Kmswxl0yQVFf5-sQIJiA-t500x500.png</msg>
<var>${img_url}</var>
<arg>__import__('re').search(r'url\\([\"\\\']?(.*?)[\"\\\']?\\)', r"""${style}""").group(1)</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2025-10-08T11:11:20.490856" elapsed="0.000000"/>
</kw>
<status status="PASS" start="2025-10-08T11:11:20.471068" elapsed="0.019788"/>
</branch>
<branch type="ELSE">
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<var>${og_found}</var>
<arg>Page Should Contain Element</arg>
<arg>xpath=//meta[@property='og:image']</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:20.490856" elapsed="0.000000"/>
</kw>
<if>
<branch type="IF" condition="${og_found}">
<kw name="Get Element Attribute" owner="SeleniumLibrary">
<var>${img_url}</var>
<arg>xpath=//meta[@property='og:image']</arg>
<arg>content</arg>
<doc>Returns the value of ``attribute`` from the element ``locator``.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:20.490856" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2025-10-08T11:11:20.490856" elapsed="0.000000"/>
</branch>
<branch type="ELSE">
<kw name="Get Element Attribute" owner="SeleniumLibrary">
<var>${img_url}</var>
<arg>xpath=(//img[contains(@class,'image__full')])[1]</arg>
<arg>src</arg>
<doc>Returns the value of ``attribute`` from the element ``locator``.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:20.499880" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2025-10-08T11:11:20.490856" elapsed="0.009024"/>
</branch>
<status status="NOT RUN" start="2025-10-08T11:11:20.490856" elapsed="0.009024"/>
</if>
<status status="NOT RUN" start="2025-10-08T11:11:20.490856" elapsed="0.009024"/>
</branch>
<status status="PASS" start="2025-10-08T11:11:20.471068" elapsed="0.028812"/>
</if>
<kw name="_ensure_meta_csv_headers_exist">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.500889" level="INFO">${t_csv} = C:\Users\phmartin\soundcloud-robot\results\meta\titulos.csv</msg>
<var>${t_csv}</var>
<arg>${META_DIR}${/}titulos.csv</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.500889" level="INFO">${a_csv} = C:\Users\phmartin\soundcloud-robot\results\meta\artistas.csv</msg>
<var>${a_csv}</var>
<arg>${META_DIR}${/}artistas.csv</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="File Should Exist" owner="OperatingSystem">
<msg time="2025-10-08T11:11:20.500889" level="INFO" html="true">File '&lt;a href="file://C:\Users\phmartin\soundcloud-robot\results\meta\titulos.csv"&gt;C:\Users\phmartin\soundcloud-robot\results\meta\titulos.csv&lt;/a&gt;' exists.</msg>
<arg>${t_csv}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<msg time="2025-10-08T11:11:20.500889" level="INFO">${t_exists} = True</msg>
<var>${t_exists}</var>
<arg>File Should Exist</arg>
<arg>${t_csv}</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="File Should Exist" owner="OperatingSystem">
<msg time="2025-10-08T11:11:20.500889" level="INFO" html="true">File '&lt;a href="file://C:\Users\phmartin\soundcloud-robot\results\meta\artistas.csv"&gt;C:\Users\phmartin\soundcloud-robot\results\meta\artistas.csv&lt;/a&gt;' exists.</msg>
<arg>${a_csv}</arg>
<doc>Fails unless the given ``path`` points to an existing file.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<msg time="2025-10-08T11:11:20.500889" level="INFO">${a_exists} = True</msg>
<var>${a_exists}</var>
<arg>File Should Exist</arg>
<arg>${a_csv}</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<if>
<branch type="IF" condition="not ${t_exists}">
<kw name="Create File" owner="OperatingSystem">
<arg>${t_csv}</arg>
<arg>n,title\n</arg>
<arg>UTF-8</arg>
<doc>Creates a file with the given content and encoding.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</branch>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</if>
<if>
<branch type="IF" condition="not ${a_exists}">
<kw name="Create File" owner="OperatingSystem">
<arg>${a_csv}</arg>
<arg>n,artist\n</arg>
<arg>UTF-8</arg>
<doc>Creates a file with the given content and encoding.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</branch>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</if>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.500889" level="INFO">${t_csv} = C:\Users\phmartin\soundcloud-robot\results\meta\titulos.csv</msg>
<var>${t_csv}</var>
<arg>${META_DIR}${/}titulos.csv</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.500889" level="INFO">${a_csv} = C:\Users\phmartin\soundcloud-robot\results\meta\artistas.csv</msg>
<var>${a_csv}</var>
<arg>${META_DIR}${/}artistas.csv</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<kw name="_csv_escape">
<kw name="Replace String" owner="String">
<msg time="2025-10-08T11:11:20.500889" level="INFO">${x} = The Cardigans - My Favourite Game (Azzik Schranz Edit) [FREE DL]</msg>
<var>${x}</var>
<arg>${text}</arg>
<arg>"</arg>
<arg>""</arg>
<doc>Replaces ``search_for`` in the given ``string`` with ``replace_with``.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.000000"/>
</kw>
<kw name="Replace String" owner="String">
<msg time="2025-10-08T11:11:20.507991" level="INFO">${x} = The Cardigans - My Favourite Game (Azzik Schranz Edit) [FREE DL]</msg>
<var>${x}</var>
<arg>${x}</arg>
<arg>\n</arg>
<arg>${EMPTY}</arg>
<doc>Replaces ``search_for`` in the given ``string`` with ``replace_with``.</doc>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.007102"/>
</kw>
<kw name="Replace String" owner="String">
<msg time="2025-10-08T11:11:20.507991" level="INFO">${x} = The Cardigans - My Favourite Game (Azzik Schranz Edit) [FREE DL]</msg>
<var>${x}</var>
<arg>${x}</arg>
<arg>\r</arg>
<arg>${EMPTY}</arg>
<doc>Replaces ``search_for`` in the given ``string`` with ``replace_with``.</doc>
<status status="PASS" start="2025-10-08T11:11:20.507991" elapsed="0.000000"/>
</kw>
<return>
<value>${x}</value>
<status status="PASS" start="2025-10-08T11:11:20.507991" elapsed="0.000000"/>
</return>
<msg time="2025-10-08T11:11:20.507991" level="INFO">${title_q} = The Cardigans - My Favourite Game (Azzik Schranz Edit) [FREE DL]</msg>
<var>${title_q}</var>
<arg>${title}</arg>
<status status="PASS" start="2025-10-08T11:11:20.500889" elapsed="0.007102"/>
</kw>
<kw name="_csv_escape">
<kw name="Replace String" owner="String">
<msg time="2025-10-08T11:11:20.510005" level="INFO">${x} = AZZIK</msg>
<var>${x}</var>
<arg>${text}</arg>
<arg>"</arg>
<arg>""</arg>
<doc>Replaces ``search_for`` in the given ``string`` with ``replace_with``.</doc>
<status status="PASS" start="2025-10-08T11:11:20.507991" elapsed="0.002014"/>
</kw>
<kw name="Replace String" owner="String">
<msg time="2025-10-08T11:11:20.510005" level="INFO">${x} = AZZIK</msg>
<var>${x}</var>
<arg>${x}</arg>
<arg>\n</arg>
<arg>${EMPTY}</arg>
<doc>Replaces ``search_for`` in the given ``string`` with ``replace_with``.</doc>
<status status="PASS" start="2025-10-08T11:11:20.510005" elapsed="0.000000"/>
</kw>
<kw name="Replace String" owner="String">
<msg time="2025-10-08T11:11:20.511019" level="INFO">${x} = AZZIK</msg>
<var>${x}</var>
<arg>${x}</arg>
<arg>\r</arg>
<arg>${EMPTY}</arg>
<doc>Replaces ``search_for`` in the given ``string`` with ``replace_with``.</doc>
<status status="PASS" start="2025-10-08T11:11:20.510005" elapsed="0.001014"/>
</kw>
<return>
<value>${x}</value>
<status status="PASS" start="2025-10-08T11:11:20.511019" elapsed="0.000000"/>
</return>
<msg time="2025-10-08T11:11:20.511019" level="INFO">${artist_q} = AZZIK</msg>
<var>${artist_q}</var>
<arg>${artist}</arg>
<status status="PASS" start="2025-10-08T11:11:20.507991" elapsed="0.003028"/>
</kw>
<kw name="Append To File" owner="OperatingSystem">
<msg time="2025-10-08T11:11:20.515094" level="INFO" html="true">Appended to file '&lt;a href="file://C:\Users\phmartin\soundcloud-robot\results\meta\titulos.csv"&gt;C:\Users\phmartin\soundcloud-robot\results\meta\titulos.csv&lt;/a&gt;'.</msg>
<arg>${t_csv}</arg>
<arg>${n},"${title_q}"\n</arg>
<arg>UTF-8</arg>
<doc>Appends the given content to the specified file.</doc>
<status status="PASS" start="2025-10-08T11:11:20.511019" elapsed="0.004075"/>
</kw>
<kw name="Append To File" owner="OperatingSystem">
<msg time="2025-10-08T11:11:20.527928" level="INFO" html="true">Appended to file '&lt;a href="file://C:\Users\phmartin\soundcloud-robot\results\meta\artistas.csv"&gt;C:\Users\phmartin\soundcloud-robot\results\meta\artistas.csv&lt;/a&gt;'.</msg>
<arg>${a_csv}</arg>
<arg>${n},"${artist_q}"\n</arg>
<arg>UTF-8</arg>
<doc>Appends the given content to the specified file.</doc>
<status status="PASS" start="2025-10-08T11:11:20.520956" elapsed="0.006972"/>
</kw>
<kw name="Evaluate" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.527928" level="INFO">${ext} = .png</msg>
<var>${ext}</var>
<arg>(lambda u: (__import__('os').path.splitext(__import__('urllib.parse', fromlist=['urlparse']).urlparse(u).path)[1] or '.png'))(r"""${img_url}""")</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2025-10-08T11:11:20.527928" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.527928" level="INFO">${cover} = C:\Users\phmartin\soundcloud-robot\results\portadas\3.png</msg>
<var>${cover}</var>
<arg>${COVERS_DIR}${/}${n}${ext}</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:20.527928" elapsed="0.000000"/>
</kw>
<kw name="Evaluate" owner="BuiltIn">
<arg>__import__('urllib.request', fromlist=['urlretrieve']).urlretrieve(r"""${img_url}""", r"""${cover}""")</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2025-10-08T11:11:20.527928" elapsed="0.263007"/>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>💾 Guardado meta en CSVs y portada: ${cover}</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" start="2025-10-08T11:11:20.790935" elapsed="0.000000"/>
</kw>
<arg>${TRACK_NUM}</arg>
<doc>Desde la página de pista, extrae título, artista y portada, guarda CSVs y descarga la portada.</doc>
<status status="PASS" start="2025-10-08T11:11:19.413638" elapsed="1.377297"/>
</kw>
<kw name="Download If Available">
<kw name="Get File Count In Dir">
<kw name="List Files In Directory" owner="OperatingSystem">
<msg time="2025-10-08T11:11:20.800955" level="INFO" html="true">Listing contents of directory '&lt;a href="file://C:\Users\phmartin\soundcloud-robot\results\downloads"&gt;C:\Users\phmartin\soundcloud-robot\results\downloads&lt;/a&gt;'.</msg>
<msg time="2025-10-08T11:11:20.800955" level="INFO">1 file:
C:\Users\phmartin\soundcloud-robot\results\downloads\PropangasKoala_TrackohneName_MIT_zusatz_Synths_MASTER.wav</msg>
<msg time="2025-10-08T11:11:20.800955" level="INFO">${files} = ['C:\\Users\\phmartin\\soundcloud-robot\\results\\downloads\\PropangasKoala_TrackohneName_MIT_zusatz_Synths_MASTER.wav']</msg>
<var>${files}</var>
<arg>${DOWNLOAD_DIR}</arg>
<arg>absolute=True</arg>
<doc>Wrapper for `List Directory` that returns only files.</doc>
<status status="PASS" start="2025-10-08T11:11:20.800955" elapsed="0.000000"/>
</kw>
<kw name="Get Length" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.800955" level="INFO">Length is 1.</msg>
<msg time="2025-10-08T11:11:20.800955" level="INFO">${count} = 1</msg>
<var>${count}</var>
<arg>${files}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<status status="PASS" start="2025-10-08T11:11:20.800955" elapsed="0.000000"/>
</kw>
<return>
<value>${count}</value>
<status status="PASS" start="2025-10-08T11:11:20.800955" elapsed="0.000000"/>
</return>
<msg time="2025-10-08T11:11:20.800955" level="INFO">${before} = 1</msg>
<var>${before}</var>
<status status="PASS" start="2025-10-08T11:11:20.800955" elapsed="0.000000"/>
</kw>
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:20.800955" level="INFO">${download_any} = ["//button[contains(@class,'sc-button-download')]", "| //button[.//span[normalize-space(.)='Download']]", "| //a[(contains(@class,'sc-link') or contains(@class,'download')) and (contains(normalize-spa...</msg>
<var>${download_any}</var>
<arg>//button[contains(@class,'sc-button-download')]</arg>
<arg>| //button[.//span[normalize-space(.)='Download']]</arg>
<arg>| //a[(contains(@class,'sc-link') or contains(@class,'download')) and (contains(normalize-space(.),'Download') or contains(@href,'/download'))]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:20.800955" elapsed="0.000000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Wait Until Page Contains Element" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:21.060882" level="INFO" html="true">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-6.png"&gt;&lt;img src="selenium-screenshot-6.png" width="800px"&gt;&lt;/a&gt;</msg>
<msg time="2025-10-08T11:11:21.060882" level="FAIL">InvalidSelectorException: Message: invalid selector: Unable to locate an element with the xpath expression ["//button[contains(@class,'sc-button-download')]", "| //button[.//span[normalize-space(.)='Download']]", "| //a[(contains(@class,'sc-link') or contains(@class,'download')) and (contains(normalize-space(.),'Download') or contains(@href,'/download'))]"] because of the following error:
SyntaxError: Failed to execute 'evaluate' on 'Document': The string '["//button[contains(@class,'sc-button-download')]", "| //button[.//span[normalize-space(.)='Download']]", "| //a[(contains(@class,'sc-link') or contains(@class,'download')) and (contains(normalize-space(.),'Download') or contains(@href,'/download'))]"]' is not a valid XPath expression.
  (Session info: MicrosoftEdge=141.0.3537.57); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#invalidselectorexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6b5b62a15+51877]
	GetHandleVerifier [0x0x7ff6b5b62a74+51972]
	GetHandleVerifier [0x0x7ff6b5d193c5+1848405]
	(No symbol) [0x0x7ff6b58d7c7e]
	(No symbol) [0x0x7ff6b58da54f]
	(No symbol) [0x0x7ff6b58da60f]
	(No symbol) [0x0x7ff6b591ffde]
	(No symbol) [0x0x7ff6b592071b]
	(No symbol) [0x0x7ff6b5961957]
	(No symbol) [0x0x7ff6b594216f]
	(No symbol) [0x0x7ff6b591667b]
	(No symbol) [0x0x7ff6b595f3d2]
	(No symbol) [0x0x7ff6b5941df3]
	(No symbol) [0x0x7ff6b5915b36]
	(No symbol) [0x0x7ff6b5914d80]
	(No symbol) [0x0x7ff6b5915973]
	(No symbol) [0x0x7ff6b59de4a5]
	(No symbol) [0x0x7ff6b59da75d]
	GetHandleVerifier [0x0x7ff6b5b8d253+226019]
	GetHandleVerifier [0x0x7ff6b5b7c421+156849]
	GetHandleVerifier [0x0x7ff6b5b84919+190889]
	GetHandleVerifier [0x0x7ff6b5b69b54+80868]
	GetHandleVerifier [0x0x7ff6b5b69ca3+81203]
	GetHandleVerifier [0x0x7ff6b5b58226+8886]
	BaseThreadInitThunk [0x0x7ffd7fc0e8d7+23]
	RtlUserThreadStart [0x0x7ffd811c8d9c+44]
</msg>
<arg>xpath=${download_any}</arg>
<arg>5 s</arg>
<doc>Waits until the element ``locator`` appears on the current page.</doc>
<status status="FAIL" start="2025-10-08T11:11:20.800955" elapsed="0.304787">InvalidSelectorException: Message: invalid selector: Unable to locate an element with the xpath expression ["//button[contains(@class,'sc-button-download')]", "| //button[.//span[normalize-space(.)='Download']]", "| //a[(contains(@class,'sc-link') or contains(@class,'download')) and (contains(normalize-space(.),'Download') or contains(@href,'/download'))]"] because of the following error:
SyntaxError: Failed to execute 'evaluate' on 'Document': The string '["//button[contains(@class,'sc-button-download')]", "| //button[.//span[normalize-space(.)='Download']]", "| //a[(contains(@class,'sc-link') or contains(@class,'download')) and (contains(normalize-space(.),'Download') or contains(@href,'/download'))]"]' is not a valid XPath expression.
  (Session info: MicrosoftEdge=141.0.3537.57); For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#invalidselectorexception
Stacktrace:
	GetHandleVerifier [0x0x7ff6b5b62a15+51877]
	GetHandleVerifier [0x0x7ff6b5b62a74+51972]
	GetHandleVerifier [0x0x7ff6b5d193c5+1848405]
	(No symbol) [0x0x7ff6b58d7c7e]
	(No symbol) [0x0x7ff6b58da54f]
    [ Message content over the limit has been removed. ]
	(No symbol) [0x0x7ff6b591ffde]
	(No symbol) [0x0x7ff6b592071b]
	(No symbol) [0x0x7ff6b5961957]
	(No symbol) [0x0x7ff6b594216f]
	(No symbol) [0x0x7ff6b591667b]
	(No symbol) [0x0x7ff6b595f3d2]
	(No symbol) [0x0x7ff6b5941df3]
	(No symbol) [0x0x7ff6b5915b36]
	(No symbol) [0x0x7ff6b5914d80]
	(No symbol) [0x0x7ff6b5915973]
	(No symbol) [0x0x7ff6b59de4a5]
	(No symbol) [0x0x7ff6b59da75d]
	GetHandleVerifier [0x0x7ff6b5b8d253+226019]
	GetHandleVerifier [0x0x7ff6b5b7c421+156849]
	GetHandleVerifier [0x0x7ff6b5b84919+190889]
	GetHandleVerifier [0x0x7ff6b5b69b54+80868]
	GetHandleVerifier [0x0x7ff6b5b69ca3+81203]
	GetHandleVerifier [0x0x7ff6b5b58226+8886]
	BaseThreadInitThunk [0x0x7ffd7fc0e8d7+23]
	RtlUserThreadStart [0x0x7ffd811c8d9c+44]</status>
</kw>
<msg time="2025-10-08T11:11:21.105742" level="INFO">${present} = False</msg>
<var>${present}</var>
<arg>Wait Until Page Contains Element</arg>
<arg>xpath=${download_any}</arg>
<arg>5 s</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2025-10-08T11:11:20.800955" elapsed="0.304787"/>
</kw>
<if>
<branch type="IF" condition="${present}">
<kw name="Click Element" owner="SeleniumLibrary">
<arg>xpath=${download_any}</arg>
<doc>Click the element identified by ``locator``.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:21.106740" elapsed="0.000000"/>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>✅ Click en “Download”</arg>
<doc>Logs the given message to the console.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:21.106740" elapsed="0.000000"/>
</kw>
<status status="NOT RUN" start="2025-10-08T11:11:21.105742" elapsed="0.000998"/>
</branch>
<branch type="ELSE">
<kw name="Press Keys" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:21.107740" level="INFO">Sending key(s) ('ESC',) to page.</msg>
<msg time="2025-10-08T11:11:21.107740" level="INFO">Pressing special key ESCAPE to browser.</msg>
<msg time="2025-10-08T11:11:21.107740" level="INFO">Releasing special key ESCAPE.</msg>
<arg>NONE</arg>
<arg>ESC</arg>
<doc>Simulates the user pressing key(s) to an element or on the active browser.</doc>
<status status="PASS" start="2025-10-08T11:11:21.106740" elapsed="0.010485"/>
</kw>
<kw name="Sleep" owner="BuiltIn">
<msg time="2025-10-08T11:11:21.421252" level="INFO">Slept 300 milliseconds.</msg>
<arg>0.3 s</arg>
<doc>Pauses the test executed for the given time.</doc>
<status status="PASS" start="2025-10-08T11:11:21.117225" elapsed="0.304027"/>
</kw>
<kw name="Click Purchase Link If Hypeddit">
<kw name="Set Variable" owner="BuiltIn">
<msg time="2025-10-08T11:11:21.421252" level="INFO">${purchase} = //a[contains(@class,'soundActions__purchaseLink')]</msg>
<var>${purchase}</var>
<arg>//a[contains(@class,'soundActions__purchaseLink')]</arg>
<doc>Returns the given values which can then be assigned to a variables.</doc>
<status status="PASS" start="2025-10-08T11:11:21.421252" elapsed="0.000000"/>
</kw>
<kw name="Run Keyword And Return Status" owner="BuiltIn">
<kw name="Page Should Contain Element" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:21.433995" level="INFO">Current page contains element 'xpath=//a[contains(@class,'soundActions__purchaseLink')]'.</msg>
<arg>xpath=${purchase}</arg>
<doc>Verifies that element ``locator`` is found on the current page.</doc>
<status status="PASS" start="2025-10-08T11:11:21.421252" elapsed="0.012743"/>
</kw>
<msg time="2025-10-08T11:11:21.433995" level="INFO">${exists} = True</msg>
<var>${exists}</var>
<arg>Page Should Contain Element</arg>
<arg>xpath=${purchase}</arg>
<doc>Runs the given keyword with given arguments and returns the status as a Boolean value.</doc>
<status status="PASS" start="2025-10-08T11:11:21.421252" elapsed="0.012743"/>
</kw>
<if>
<branch type="IF" condition="not ${exists}">
<kw name="Log To Console" owner="BuiltIn">
<arg>🔎 No hay botón de descarga externa en esta pista</arg>
<doc>Logs the given message to the console.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:21.440648" elapsed="0.000000"/>
</kw>
<return>
<value>None</value>
<status status="NOT RUN" start="2025-10-08T11:11:21.440648" elapsed="0.000000"/>
</return>
<status status="NOT RUN" start="2025-10-08T11:11:21.433995" elapsed="0.006653"/>
</branch>
<status status="PASS" start="2025-10-08T11:11:21.433995" elapsed="0.006653"/>
</if>
<kw name="Get Element Attribute" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:21.450792" level="INFO">${href} = https://gate.sc/?url=https%3A%2F%2Fhypeddit.com%2Fazzik%2Fthecardigansmyfavouritegameazzikschranzedit&amp;token=d55ea9-1-1759914678872</msg>
<var>${href}</var>
<arg>xpath=${purchase}</arg>
<arg>href</arg>
<doc>Returns the value of ``attribute`` from the element ``locator``.</doc>
<status status="PASS" start="2025-10-08T11:11:21.440648" elapsed="0.010144"/>
</kw>
<kw name="Resolve Link To Final Url And Domain">
<kw name="Evaluate" owner="BuiltIn">
<msg time="2025-10-08T11:11:21.450792" level="INFO">${final_url} = https://hypeddit.com/azzik/thecardigansmyfavouritegameazzikschranzedit</msg>
<var>${final_url}</var>
<arg>(lambda h:(lambda up:( up.unquote(up.parse_qs(up.urlparse(h).query).get('url',[''])[0]) if 'gate.sc' in up.urlparse(h).netloc else h ))(__import__('urllib.parse', fromlist=['urlparse','parse_qs','unquote'])))(r"""${href}""")</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2025-10-08T11:11:21.450792" elapsed="0.000000"/>
</kw>
<kw name="Evaluate" owner="BuiltIn">
<msg time="2025-10-08T11:11:21.450792" level="INFO">${domain} = hypeddit.com</msg>
<var>${domain}</var>
<arg>__import__('urllib.parse', fromlist=['urlparse']).urlparse(r"""${final_url}""").netloc.lower()</arg>
<doc>Evaluates the given expression in Python and returns the result.</doc>
<status status="PASS" start="2025-10-08T11:11:21.450792" elapsed="0.000000"/>
</kw>
<return>
<value>${final_url}</value>
<value>${domain}</value>
<status status="PASS" start="2025-10-08T11:11:21.450792" elapsed="0.000000"/>
</return>
<msg time="2025-10-08T11:11:21.460770" level="INFO">${final_url} = https://hypeddit.com/azzik/thecardigansmyfavouritegameazzikschranzedit</msg>
<msg time="2025-10-08T11:11:21.460770" level="INFO">${domain} = hypeddit.com</msg>
<var>${final_url}</var>
<var>${domain}</var>
<arg>${href}</arg>
<status status="PASS" start="2025-10-08T11:11:21.450792" elapsed="0.009978"/>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>🔗 Enlace externo detectado → ${domain}</arg>
<doc>Logs the given message to the console.</doc>
<status status="PASS" start="2025-10-08T11:11:21.460770" elapsed="0.000000"/>
</kw>
<if>
<branch type="IF" condition="'hypeddit.com' in '${domain}'">
<kw name="Get Window Handles" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:21.460770" level="INFO">${before} = ['323174D8678CA5B1E5A2DA4D6D7BC921']</msg>
<var>${before}</var>
<doc>Returns all child window handles of the selected browser as a list.</doc>
<status status="PASS" start="2025-10-08T11:11:21.460770" elapsed="0.000000"/>
</kw>
<kw name="Get Length" owner="BuiltIn">
<msg time="2025-10-08T11:11:21.460770" level="INFO">Length is 1.</msg>
<msg time="2025-10-08T11:11:21.460770" level="INFO">${prev} = 1</msg>
<var>${prev}</var>
<arg>${before}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<status status="PASS" start="2025-10-08T11:11:21.460770" elapsed="0.000000"/>
</kw>
<kw name="Click Element" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:21.460770" level="INFO">Clicking element 'xpath=//a[contains(@class,'soundActions__purchaseLink')]'.</msg>
<arg>xpath=${purchase}</arg>
<doc>Click the element identified by ``locator``.</doc>
<status status="PASS" start="2025-10-08T11:11:21.460770" elapsed="0.116859"/>
</kw>
<kw name="Wait Until Keyword Succeeds" owner="BuiltIn">
<kw name="Window Count Should Be Greater">
<kw name="Get Window Handles" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:21.589224" level="INFO">${handles} = ['323174D8678CA5B1E5A2DA4D6D7BC921', 'B3506031F937EBFC1782B9383F8FE8A6']</msg>
<var>${handles}</var>
<doc>Returns all child window handles of the selected browser as a list.</doc>
<status status="PASS" start="2025-10-08T11:11:21.578642" elapsed="0.010582"/>
</kw>
<kw name="Get Length" owner="BuiltIn">
<msg time="2025-10-08T11:11:21.589224" level="INFO">Length is 2.</msg>
<msg time="2025-10-08T11:11:21.589224" level="INFO">${n} = 2</msg>
<var>${n}</var>
<arg>${handles}</arg>
<doc>Returns and logs the length of the given item as an integer.</doc>
<status status="PASS" start="2025-10-08T11:11:21.589224" elapsed="0.000000"/>
</kw>
<kw name="Should Be True" owner="BuiltIn">
<arg>${n} &gt; ${prev}</arg>
<doc>Fails if the given condition is not true.</doc>
<status status="PASS" start="2025-10-08T11:11:21.589224" elapsed="0.001513"/>
</kw>
<arg>${prev}</arg>
<status status="PASS" start="2025-10-08T11:11:21.578642" elapsed="0.012095"/>
</kw>
<arg>20x</arg>
<arg>0.5 s</arg>
<arg>Window Count Should Be Greater</arg>
<arg>${prev}</arg>
<doc>Runs the specified keyword and retries if it fails.</doc>
<status status="PASS" start="2025-10-08T11:11:21.577629" elapsed="0.013108"/>
</kw>
<kw name="Switch Window" owner="SeleniumLibrary">
<msg time="2025-10-08T11:11:29.678398" level="INFO" html="true">&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="3"&gt;&lt;a href="selenium-screenshot-7.png"&gt;&lt;img src="selenium-screenshot-7.png" width="800px"&gt;&lt;/a&gt;</msg>
<msg time="2025-10-08T11:11:29.678398" level="FAIL">No window matching handle, name, title or URL 'index=-1' found.</msg>
<arg>index=-1</arg>
<doc>Switches to browser window matching ``locator``.</doc>
<status status="FAIL" start="2025-10-08T11:11:21.590737" elapsed="8.102360">No window matching handle, name, title or URL 'index=-1' found.</status>
</kw>
<kw name="Log To Console" owner="BuiltIn">
<arg>✅ Abierto Hypeddit en nueva pestaña: ${final_url}</arg>
<doc>Logs the given message to the console.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:29.693097" elapsed="0.000000"/>
</kw>
<return>
<value>${final_url}</value>
<status status="NOT RUN" start="2025-10-08T11:11:29.693097" elapsed="0.000000"/>
</return>
<status status="FAIL" start="2025-10-08T11:11:21.460770" elapsed="8.233337">No window matching handle, name, title or URL 'index=-1' found.</status>
</branch>
<branch type="ELSE">
<kw name="Log To Console" owner="BuiltIn">
<arg>⚠️ Enlace externo NO permitido: ${domain} (no se abre)</arg>
<doc>Logs the given message to the console.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:29.694107" elapsed="0.000000"/>
</kw>
<return>
<value>None</value>
<status status="NOT RUN" start="2025-10-08T11:11:29.694618" elapsed="0.000000"/>
</return>
<status status="NOT RUN" start="2025-10-08T11:11:29.694107" elapsed="0.000511"/>
</branch>
<status status="FAIL" start="2025-10-08T11:11:21.460770" elapsed="8.233848">No window matching handle, name, title or URL 'index=-1' found.</status>
</if>
<var>${opened}</var>
<doc>Busca el botón externo en la página de pista y lo abre SÓLO si el destino es hypeddit.com.</doc>
<status status="FAIL" start="2025-10-08T11:11:21.421252" elapsed="8.273366">No window matching handle, name, title or URL 'index=-1' found.</status>
</kw>
<if>
<branch type="IF" condition="'${opened}'=='None'">
<kw name="Log To Console" owner="BuiltIn">
<arg>❌ NO HAY DESCARGA ni enlace Hypeddit permitido</arg>
<doc>Logs the given message to the console.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:29.694618" elapsed="0.000507"/>
</kw>
<status status="NOT RUN" start="2025-10-08T11:11:29.694618" elapsed="0.000507"/>
</branch>
<status status="NOT RUN" start="2025-10-08T11:11:29.694618" elapsed="0.000507"/>
</if>
<status status="FAIL" start="2025-10-08T11:11:21.106740" elapsed="8.588385">No window matching handle, name, title or URL 'index=-1' found.</status>
</branch>
<status status="FAIL" start="2025-10-08T11:11:21.105742" elapsed="8.589383">No window matching handle, name, title or URL 'index=-1' found.</status>
</if>
<doc>Intenta “Download”. Si no existe, abre enlace externo SOLO si es Hypeddit.</doc>
<status status="FAIL" start="2025-10-08T11:11:20.790935" elapsed="8.904190">No window matching handle, name, title or URL 'index=-1' found.</status>
</kw>
<kw name="Capture Page Screenshot" owner="SeleniumLibrary">
<doc>Takes a screenshot of the current page and embeds it into a log file.</doc>
<status status="NOT RUN" start="2025-10-08T11:11:29.695518" elapsed="0.000000"/>
</kw>
<status status="FAIL" start="2025-10-08T11:11:14.867542" elapsed="14.827976">No window matching handle, name, title or URL 'index=-1' found.</status>
</test>
<kw name="Close All Browsers" owner="SeleniumLibrary" type="TEARDOWN">
<doc>Closes all open browsers and resets the browser cache.</doc>
<status status="PASS" start="2025-10-08T11:11:29.696536" elapsed="2.506249"/>
</kw>
<doc>SoundCloud downloader – usa el perfil por defecto de Edge (último usado) para aprovechar la sesión iniciada.</doc>
<status status="FAIL" start="2025-10-08T11:11:10.331040" elapsed="21.871745"/>
</suite>
<statistics>
<total>
<stat pass="0" fail="1" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat name="Prueba2" id="s1" pass="0" fail="1" skip="0">Prueba2</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
